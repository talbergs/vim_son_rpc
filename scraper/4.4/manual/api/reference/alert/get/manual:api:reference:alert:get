===== alert.get =====

==== Description ====

''integer/array alert.get(object **parameters**)''

The method allows to retrieve alerts according to the given parameters.

==== Parameters ====

''(object)'' Parameters defining the desired output.

The method supports the following parameters.

^ Parameter ^ Type ^ Description ^
| alertids | string/array | Return only alerts with the given IDs. |
| actionids | string/array | Return only alerts generated by the given actions. |
| eventids | string/array | Return only alerts generated by the given events. |
| groupids | string/array | Return only alerts generated by objects from the given host groups. |
| hostids |  string/array | Return only alerts generated by objects from the given hosts. |
| mediatypeids | string/array | Return only message alerts that used the given media types. |
| objectids | string/array | Return only alerts generated by the given objects |
| userids | string/array | Return only message alerts that were sent to the given users. |
^ |||
| eventobject | integer | Return only alerts generated by events related to objects of the given type. \\ \\ See event [[manual:api:reference:event:object#event|"object"]] for a list of supported object types. \\ \\ Default: 0 - trigger. |
| eventsource | integer | Return only alerts generated by events of the given type. \\ \\ See event [[manual:api:reference:event:object#event|"source"]] for a list of supported event types. \\ \\ Default: 0 - trigger events. |
| time_from | timestamp | Return only alerts that have been generated after the given time. |
| time_till | timestamp | Return only alerts that have been generated before the given time. |
^ |||
| selectHosts | query | Return a ''[[:manual/api/reference/host/object|hosts]]'' property with data of hosts that triggered the action operation. |
| selectMediatypes | query | Return a ''[[:manual/api/reference/mediatype/object|mediatypes]]'' property with an array of the media types that were used for the message alert. |
| selectUsers | query | Return a ''[[:manual/api/reference/user/object|users]]'' property with an array of the users that the message was addressed to.  |
^ |||
| sortfield | string/array | Sort the result by the given properties. \\ \\ Possible values are: ''alertid'', ''clock'', ''eventid'', ''mediatypeid'', ''sendto'' and ''status''.  |
| countOutput |boolean|These parameters being common for all ''get'' methods are described in the [[manual:api:reference_commentary#common_get_method_parameters|reference commentary]].  |
| editable |boolean|:::|
| excludeSearch |boolean|:::|
| filter | object |:::|
| limit |integer|:::|
| output |query|:::|
| preservekeys |boolean|:::|
| search | object |:::|
| searchByAny |boolean|:::|
| searchWildcardsEnabled |boolean|:::|
| sortorder | string/array | ::: |
| startSearch |boolean|:::|

==== Return values ====

''(integer/array)'' Returns either:
  * an array of objects;
  * the count of retrieved objects, if the ''countOutput'' parameter has been used.

==== Examples ====

=== Retrieve alerts by action ID ===

Retrieve all alerts generated by action "3".

Request:
<code java>
{
    "jsonrpc": "2.0",
    "method": "alert.get",
    "params": {
        "output": "extend",
        "actionids": "3"
    },
    "auth": "038e1d7b1735c6a5436ee9eae095879e",
    "id": 1
}
</code>

Response:
<code java>
{
    "jsonrpc": "2.0",
    "result": [
        {
            "alertid": "1",
            "actionid": "3",
            "eventid": "21243",
            "userid": "1",
            "clock": "1362128008",
            "mediatypeid": "1",
            "sendto": "support@company.com",
            "subject": "PROBLEM: Zabbix agent on Linux server is unreachable for 5 minutes: ",
            "message": "Trigger: Zabbix agent on Linux server is unreachable for 5 minutes: \nTrigger status: PROBLEM\nTrigger severity: Not classified",
            "status": "0",
            "retries": "3",
            "error": "",
            "esc_step": "1",
            "alerttype": "0",
            "p_eventid": "0",
            "acknowledgeid": "0"
        }
    ],
    "id": 1
}
</code>

==== See also ====

  * [[manual:api:reference:host:object#host|Host]]
  * [[manual:api:reference:mediatype:object#media_type|Media type]]
  * [[manual:api:reference:user:object#user|User]]

==== Source ====

CAlert::get() in //frontends/php/include/classes/api/services/CAlert.php//.